import{_ as d}from"./q-uemlvruI.js";import{E,A as y}from"./q-Bmz7zEfs.js";import{x as T,a as c,c as q,B as L,e as l,h as w,q as v,f as b,i as h,g as p,u as f,j as k}from"./q-wZvtGFf1.js";import{useEvents as C,_auto_viaDate as M}from"./q-oIB97qKM.js";import"./q-OhKbAX6n.js";const P=()=>{T();const s=c(),t=c(!1),u=C(),r=c(!1),n=c(u.value),a=c(n.value.length>0?n.value[0]:null),_=q(v(()=>d(()=>Promise.resolve().then(()=>m),void 0),"s_6qKAnyn9o7I",[n]));return L(v(()=>d(()=>Promise.resolve().then(()=>m),void 0),"s_hs55Cc65pvA",[n,s,r,v(()=>d(()=>Promise.resolve().then(()=>m),void 0),"s_sSvtbxk1Zq8",[n])])),l("div",null,{class:"mx-auto grid grid-cols-1 gap-10 overflow-hidden md:h-screen md:grid-cols-[16%,1fr,16%] lg:px-5 xl:max-w-[1340px] 2xl:px-0"},[l("aside",null,{class:""},[l("p",null,{class:"text-2xl font-bold"},"Categorias",3,null),_.value.map((e,i)=>l("p",null,null,e,1,i))],1,null),l("main",null,{class:"md:h-full md:overflow-hidden"},[l("div",null,{class:"rounded-2xl  px-2 py-5"},null,3,null),l("div",null,{class:"pb-20 [scrollbar-width:none] md:h-full md:overflow-y-auto md:px-3"},[l("p",null,{class:"mb-5 text-xl"},[l("strong",null,{class:"text-[#ff7400]"},w(e=>e.value.length,[n]),3,null)," ","Eventos encontrados"],3,null),l("div",{ref:s},{class:"space-y-10 "},n.value.map((e,i)=>l("div",{onClick$:v(()=>d(()=>Promise.resolve().then(()=>m),void 0),"s_rWnLXgOwhJ8",[e,a,t])},{class:"rounded-2xl border shadow-lg"},[l("div",null,{class:"flex items-center gap-2 p-5"},[l("div",null,{class:"rounded-full bg-[#e0e0e0] p-2"},b(y,{class:"size-8",[p]:{class:p}},3,"i8_0"),1,null),l("div",null,null,[l("p",null,{class:"text-xl/none font-bold"},h(e,"name"),1,null),l("p",null,{class:"font-light text-[#444444]"},h(e,"instagramUsername"),1,null)],1,null)],1,null),l("div",null,{class:"relative rounded-2xl bg-black"},[l("div",null,{class:"absolute left-5 top-5 flex items-center gap-3"},[l("span",null,{class:"rounded-full bg-[#0c9d0c] px-2.5 py-1 text-sm font-semibold text-white"},["Qua, ",M(e.startsOn)],1,null),l("span",null,{class:"rounded-full bg-[#ff7400] px-2.5 py-1 text-sm font-semibold text-white"},h(e,"placeName"),1,null)],1,null),l("img",{src:h(e.media[0],"url")},{class:"mx-auto w-3/4 ",height:500,width:500,loading:"lazy",alt:""},null,3,null)],1,null),l("div",null,{class:"space-y-5 p-5"},[l("div",null,{class:"flex flex-wrap gap-2"},[e.categories.map(o=>l("span",null,{class:"rounded-full border bg-black px-2.5 py-1 text-sm font-semibold text-white"},o,1,o)),e.tags.map(o=>l("span",null,{class:"rounded-full border px-2.5 py-1 text-sm text-[#6b6b6b]"},[l("strong",null,null,"#",3,null),o],1,o))],1,null),l("div",null,{class:"flex items-center gap-3"},[l("button",null,{type:"button",class:"rounded-lg bg-[#3d4046] p-2 text-[#ff7400] shadow-md"},l("svg",null,{xmlns:"http://www.w3.org/2000/svg",class:"pointer-events-none size-6",viewBox:"0 0 24 24"},l("path",null,{fill:"currentColor",d:"M18 22q-1.25 0-2.125-.875T15 19q0-.175.025-.363t.075-.337l-7.05-4.1q-.425.375-.95.588T6 15q-1.25 0-2.125-.875T3 12t.875-2.125T6 9q.575 0 1.1.213t.95.587l7.05-4.1q-.05-.15-.075-.337T15 5q0-1.25.875-2.125T18 2t2.125.875T21 5t-.875 2.125T18 8q-.575 0-1.1-.212t-.95-.588L8.9 11.3q.05.15.075.338T9 12t-.025.363t-.075.337l7.05 4.1q.425-.375.95-.587T18 16q1.25 0 2.125.875T21 19t-.875 2.125T18 22"},null,3,null),3,null),3,null),l("button",null,{type:"button",class:"rounded-lg bg-[#3d4046] p-2 text-[#ff7400] shadow-md"},l("svg",null,{xmlns:"http://www.w3.org/2000/svg",class:"pointer-events-none size-6",viewBox:"0 0 512 512"},[l("path",null,{fill:"none",stroke:"currentColor","stroke-miterlimit":"10","stroke-width":"32",d:"M366.05 146a46.7 46.7 0 0 1-2.42-63.42a3.87 3.87 0 0 0-.22-5.26l-44.13-44.18a3.89 3.89 0 0 0-5.5 0l-70.34 70.34a23.6 23.6 0 0 0-5.71 9.24a23.66 23.66 0 0 1-14.95 15a23.7 23.7 0 0 0-9.25 5.71L33.14 313.78a3.89 3.89 0 0 0 0 5.5l44.13 44.13a3.87 3.87 0 0 0 5.26.22a46.69 46.69 0 0 1 65.84 65.84a3.87 3.87 0 0 0 .22 5.26l44.13 44.13a3.89 3.89 0 0 0 5.5 0l180.4-180.39a23.7 23.7 0 0 0 5.71-9.25a23.66 23.66 0 0 1 14.95-15a23.6 23.6 0 0 0 9.24-5.71l70.34-70.34a3.89 3.89 0 0 0 0-5.5l-44.13-44.13a3.87 3.87 0 0 0-5.26-.22a46.7 46.7 0 0 1-63.42-2.32Z"},null,3,null),l("path",null,{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-miterlimit":"10","stroke-width":"32",d:"m250.5 140.44l-16.51-16.51m60.53 60.53l-11.01-11m55.03 55.03l-11-11.01m60.53 60.53l-16.51-16.51"},null,3,null)],3,null),3,null)],3,null)],1,null)],0,`${e.id}-${i}`)),1,null),r.value&&l("div",null,{class:"flex items-center justify-center pb-20 pt-10"},l("div",null,{class:"h-16 w-16 animate-[spin_2s_linear_infinite] rounded-full border-4 border-dashed border-gray-300"},null,3,null),3,"i8_1")],1,null),a.value&&b(E,{show:t,onCloseModal$:v(()=>d(()=>Promise.resolve().then(()=>m),void 0),"s_icuminGNXuU",[t]),get event(){return a.value},[p]:{show:p,onCloseModal$:p,event:w(e=>e.value,[a])}},3,"i8_2")],1,null),l("aside",null,{class:""},null,3,null)],1,"i8_3")},A=()=>{const[s,t,u]=f();t.value=s,u.value=!0},I=async()=>{const[s]=f(),t=new URL("https://api.vamoo.la/v1/events");if(s.value.length){const n=s.value[s.value.length-1];for(const a of n._esMeta.sort)t.searchParams.append("search_after[]",a.toString())}return(await(await fetch(t)).json()).details.results},O=()=>{const[s]=f();return[...new Set(s.value.flatMap(t=>t.categories))]},S=()=>{const[s]=f();s.value=!1},D=({track:s,cleanup:t})=>{const[u,r,n,a]=f();s(()=>r.value);const _=()=>{if(!r.value)return;const e=r.value.lastElementChild;e&&x.observe(e)},x=new IntersectionObserver((e,i)=>{e.forEach(async o=>{if(o.isIntersecting)try{n.value=!0;const g=await a();if(!g.length){n.value=!1;return}u.value=[...u.value,...g],i.unobserve(o.target),_()}catch(g){console.log(g)}finally{n.value=!1}})});_(),t(()=>{x.disconnect()})},m=Object.freeze(Object.defineProperty({__proto__:null,_hW:k,s_6qKAnyn9o7I:O,s_B0lqk5IDDy4:P,s_hs55Cc65pvA:D,s_icuminGNXuU:S,s_rWnLXgOwhJ8:A,s_sSvtbxk1Zq8:I},Symbol.toStringTag,{value:"Module"}));export{k as _hW,O as s_6qKAnyn9o7I,P as s_B0lqk5IDDy4,D as s_hs55Cc65pvA,S as s_icuminGNXuU,A as s_rWnLXgOwhJ8,I as s_sSvtbxk1Zq8};
